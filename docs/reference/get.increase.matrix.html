<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>compute pair-wise distances to determine where an attribute increases within a vertical distance specified — get.increase.matrix • aqp</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="compute pair-wise distances to determine where an attribute increases within a vertical distance specified — get.increase.matrix" />

<meta property="og:description" content="Uses matrix outer product to determine all pair-wise differences in `attr` for the horizons of `p`. Supplies `attr` to `threshold.fun` to determine the minimum value criterion to return TRUE in output matrix for an "increase". Also, computes all pair-wise distances in depth dimension to determine whether the vertical distance criteria have been met simultaneously with `attr` increase. 
This function assumes that the `threshold.fun` supplied by the user returns either a constant or a vector of equal length to its input.
Note that the `threshold.fun` result is allowed to contain NA, but that will result in no output for affected cells.
get.increase.depths performs the conversion of the square matrix output of get.increase.matrix back to horizon top depth for where criteria were met." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->




  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aqp</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.17</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ncss-tech/aqp">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>compute pair-wise distances to determine where an attribute increases within a vertical distance specified</h1>
    
    <div class="hidden name"><code>get.increase.matrix.Rd</code></div>
    </div>

    
    <p>Uses matrix outer product to determine all pair-wise differences in `attr` for the horizons of `p`. Supplies `attr` to `threshold.fun` to determine the minimum value criterion to return TRUE in output matrix for an "increase". Also, computes all pair-wise distances in depth dimension to determine whether the vertical distance criteria have been met simultaneously with `attr` increase.</p> 
<p>This function assumes that the `threshold.fun` supplied by the user returns either a constant or a vector of equal length to its input.</p>
<p>Note that the `threshold.fun` result is allowed to contain NA, but that will result in no output for affected cells.</p>
<p><code>get.increase.depths</code> performs the conversion of the square matrix output of <code>get.increase.matrix</code> back to horizon top depth for where criteria were met.</p>
    

    <pre class="usage"><span class='fu'>get.increase.matrix</span>(<span class='no'>p</span>, <span class='no'>attr</span>, <span class='no'>threshold.fun</span>, <span class='no'>vertical.distance</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>p</th>
      <td><p>a SoilProfileCollection, containing a single profile</p></td>
    </tr>
    <tr>
      <th>attr</th>
      <td><p>horizon attribute name to get the "increase" of</p></td>
    </tr>
    <tr>
      <th>threshold.fun</th>
      <td><p>a function that returns the threshold (as a function of attr); may return a constant single value</p></td>
    </tr>
    <tr>
      <th>vertical.distance</th>
      <td><p>the vertical distance (determined from difference SPC top depth variable) within which increase must be met</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a square logical matrix reflecting where the increase criteria were met.</p>
<p><code>get.increase.depths</code> converts to horizon dop depth by using above matrix output to determine depths where increase is met.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code>getArgillicBounds</code>, <code>crit.clay.argillic</code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>sp1</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>'aqp'</span>)
<span class='fu'>depths</span>(<span class='no'>sp1</span>) <span class='kw'>&lt;-</span> <span class='no'>id</span> ~ <span class='no'>top</span> + <span class='no'>bottom</span>
<span class='fu'><a href='SPC-utils.html'>site</a></span>(<span class='no'>sp1</span>) <span class='kw'>&lt;-</span> ~ <span class='no'>group</span>

<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='no'>sp1</span>[<span class='fl'>1</span>]
<span class='no'>attr</span> <span class='kw'>&lt;-</span> <span class='st'>'prop'</span> <span class='co'># clay contents </span>
<span class='no'>foo</span> <span class='kw'>&lt;-</span> <span class='fu'>get.increase.matrix</span>(<span class='no'>p</span>, <span class='kw'>threshold.fun</span> <span class='kw'>=</span> <span class='no'>crit.clay.argillic</span>,
                           <span class='kw'>attr</span> <span class='kw'>=</span> <span class='no'>attr</span>, <span class='kw'>vertical.distance</span> <span class='kw'>=</span> <span class='fl'>30</span>)
<span class='no'>foo</span></div><div class='output co'>#&gt;       [,1]  [,2]  [,3]  [,4]  [,5]  [,6]
#&gt; [1,] FALSE FALSE FALSE FALSE  TRUE FALSE
#&gt; [2,] FALSE FALSE FALSE  TRUE  TRUE FALSE
#&gt; [3,] FALSE FALSE FALSE  TRUE  TRUE FALSE
#&gt; [4,] FALSE FALSE FALSE FALSE  TRUE FALSE
#&gt; [5,] FALSE FALSE FALSE FALSE FALSE FALSE
#&gt; [6,] FALSE FALSE FALSE FALSE FALSE FALSE</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Andrew Gene Brown

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Dylan Beaudette, Pierre Roudier, Andrew Brown.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

